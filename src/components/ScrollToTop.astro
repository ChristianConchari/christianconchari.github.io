<button
  id="scroll-to-top-button"
  aria-label="Scroll back to top"
  class="fixed bottom-8 right-8 z-50 flex h-12 w-12 translate-y-4 items-center justify-center rounded-full bg-primary text-background-dark opacity-0 transition-all duration-300 hover:scale-110 hover:bg-secondary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 pointer-events-none"
>
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    fill="none"
    stroke="currentColor"
    stroke-width="2.5"
    stroke-linecap="round"
    stroke-linejoin="round"
    class="h-5 w-5"
    aria-hidden="true"
  >
    <polyline points="18 15 12 9 6 15" />
  </svg>
</button>

<script>
  const SCROLL_VISIBILITY_THRESHOLD_PX = 300;

  const scrollToTopButton = document.getElementById('scroll-to-top-button');

  if (scrollToTopButton) {
    const showButton = () => {
      scrollToTopButton.classList.remove('opacity-0', 'translate-y-4', 'pointer-events-none');
      scrollToTopButton.classList.add('opacity-100', 'translate-y-0');
    };

    const hideButton = () => {
      scrollToTopButton.classList.remove('opacity-100', 'translate-y-0');
      scrollToTopButton.classList.add('opacity-0', 'translate-y-4', 'pointer-events-none');
    };

    const syncButtonVisibilityWithScrollPosition = () => {
      if (window.scrollY > SCROLL_VISIBILITY_THRESHOLD_PX) {
        showButton();
      } else {
        hideButton();
      }
    };

    window.addEventListener('scroll', syncButtonVisibilityWithScrollPosition, { passive: true });

    scrollToTopButton.addEventListener('click', () => {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });
  }
</script>
