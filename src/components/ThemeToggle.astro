---
import Icon from './Icon.astro';
---

<button
  id="themeToggle"
  aria-label="Toggle theme"
  class="border-primary text-primary hover:bg-primary/10 cursor-pointer rounded-xl border-2 px-3 py-1.5 transition-all duration-300 md:px-4 lg:px-6 lg:py-4"
>
  <!-- Sun icon (shown in dark mode) -->
  <span id="sunIcon" class="hidden dark:inline-flex"><Icon name="sun" class="h-5 w-5" /></span>
  <!-- Moon icon (shown in light mode) -->
  <span id="moonIcon" class="inline-flex dark:hidden"><Icon name="moon" class="h-5 w-5" /></span>
</button>

<script>
  const themeToggle = document.getElementById('themeToggle');

  themeToggle?.addEventListener('click', () => {
    const isDark = document.documentElement.classList.toggle('dark');
    localStorage.setItem('theme', isDark ? 'dark' : 'light');
  });
</script>
